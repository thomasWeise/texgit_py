<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>texgit.formatters package — texgit 0.9.10 documentation</title><link href="/texgit_py/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/texgit_py/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/texgit_py/_static/documentation_options.js?v=2ccb3ee0"></script><script src="/texgit_py/_static/doctools.js?v=9bcbadda"></script><script src="/texgit_py/_static/sphinx_highlight.js?v=dc90522c"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/texgit_py/texgit.formatters.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="texgit.repository package"href=texgit.repository.html rel=next><link title="texgit package"href=texgit.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="texgit.repository package"accesskey=N href=texgit.repository.html>next</a> |<li class=right><a title="texgit package"accesskey=P href=texgit.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>texgit 0.9.10 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>texgit</a> »<li class="nav-item nav-item-2"><a accesskey=U href=texgit.html>texgit package</a> »<li class="nav-item nav-item-this"><a href>texgit.formatters package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-texgit.formatters><span id=texgit-formatters-package></span><h1>texgit.formatters package<a title="Link to this heading"class=headerlink href=#module-texgit.formatters>¶</a></h1><p>Code formatters.<section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-texgit.formatters.python><span id=texgit-formatters-python-module></span><h2>texgit.formatters.python module<a title="Link to this heading"class=headerlink href=#module-texgit.formatters.python>¶</a></h2><p>A formatter for python code.<dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.python.format_python><span class="sig-prename descclassname"><span class=pre>texgit.formatters.python.</span></span><span class="sig-name descname"><span class=pre>format_python</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>code</span></span></em>, <em class=sig-param><span class=n><span class=pre>strip_docstrings</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>strip_comments</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>strip_hints</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/python.html#format_python><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.python.format_python>¶</a><dd><p>Format a python code fragment.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>code</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the code fragment<li><p><strong>strip_docstrings</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we delete docstrings?<li><p><strong>strip_comments</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we delete comments?<li><p><strong>strip_hints</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we delete type hints?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the formatted code</p></dl></dl><dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.python.preprocess_python><span class="sig-prename descclassname"><span class=pre>texgit.formatters.python.</span></span><span class="sig-name descname"><span class=pre>preprocess_python</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>code</span></span></em>, <em class=sig-param><span class=n><span class=pre>lines</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>labels</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>params</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/python.html#preprocess_python><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.python.preprocess_python>¶</a><dd><p>Preprocess Python code.</p> <p>First, we select all lines of the code we want to keep. If labels are defined, then lines can be kept as ranges or as single lines. Otherwise, all lines are selected in this step.</p> <p>Then, if line numbers are provided, we selected the lines based on the line numbers from the lines we have preserved.</p> <p>Finally, the Python formatter is applied.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>code</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the code loaded from a file<li><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>] | <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the lines to keep, or <cite>None</cite> if we keep all<li><p><strong>labels</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a list of labels marking start and end of code snippets to include<li><p><strong>params</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#set><code class="xref py py-class docutils literal notranslate"><span class=pre>set</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>] | <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the arguments for the code formatter</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the formatted code string</p></dl></dl></section><section id=module-texgit.formatters.source_tools><span id=texgit-formatters-source-tools-module></span><h2>texgit.formatters.source_tools module<a title="Link to this heading"class=headerlink href=#module-texgit.formatters.source_tools>¶</a></h2><p>In this file, we put some shared tools for rendering source codes.<dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.source_tools.format_empty_lines><span class="sig-prename descclassname"><span class=pre>texgit.formatters.source_tools.</span></span><span class="sig-name descname"><span class=pre>format_empty_lines</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>lines</span></span></em>, <em class=sig-param><span class=n><span class=pre>empty_before=&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>no_empty_after=&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>force_no_empty_after=&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>max_consecutive_empty_lines=2</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/source_tools.html#format_empty_lines><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.source_tools.format_empty_lines>¶</a><dd><p>Obtain a generator that strips any consecutive empty lines.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the original line iterable<li><p><strong>empty_before</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7fb3886b2340></span></code>) – a function checking whether an empty line is required before a certain string<li><p><strong>no_empty_after</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7fb3886b23e0></span></code>) – a function checking whether an empty line is prohibited after a string<li><p><strong>force_no_empty_after</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7fb3886b2480></span></code>) – a function checking whether an empty line is prohibited after a string<li><p><strong>max_consecutive_empty_lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>2</span></code>) – the maximum number of permitted consecutive empty lines</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the generation</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>code</span> <span class=o>=</span> <span class=p>[</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>,</span> <span class=s2>"e"</span><span class=p>,</span> <span class=s2>""</span><span class=p>]</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=go>['a', '', 'b', '', '', 'c', '', '', '', 'd', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=go>['a', '', 'b', '', '', 'c', '', '', 'd', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=go>['a', '', 'b', '', 'c', '', 'd', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<span class=go>['a', 'b', 'c', 'd', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>no_empty_after</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=go>['a', '', 'b', 'c', '', '', 'd', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>no_empty_after</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>empty_before</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"e"</span><span class=p>)</span>
<span class=go>['a', '', 'b', 'c', '', '', 'd', '', 'e']</span>
<span class=gp>>>> </span><span class=n>format_empty_lines</span><span class=p>(</span><span class=n>code</span><span class=p>,</span> <span class=n>max_consecutive_empty_lines</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>no_empty_after</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>empty_before</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"e"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>force_no_empty_after</span><span class=o>=</span><span class=k>lambda</span> <span class=n>s</span><span class=p>:</span> <span class=n>s</span> <span class=o>==</span> <span class=s2>"d"</span><span class=p>)</span>
<span class=go>['a', '', 'b', 'c', '', '', 'd', 'e']</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.source_tools.select_lines><span class="sig-prename descclassname"><span class=pre>texgit.formatters.source_tools.</span></span><span class="sig-name descname"><span class=pre>select_lines</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>code</span></span></em>, <em class=sig-param><span class=n><span class=pre>lines</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>labels</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>line_comment_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'#'</span></span></em>, <em class=sig-param><span class=n><span class=pre>max_consecutive_empty_lines</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>2</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/source_tools.html#select_lines><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.source_tools.select_lines>¶</a><dd><p>Select lines of source code based on labels and line indices.</p> <p>First, we select all lines of the code we want to keep. If labels are defined, then lines are kept as ranges or as single lines for all pre-defined labels. Ranges may overlap and/or intersect. Otherwise, all lines are selected in this step.</p> <p>Then, if line numbers are provided, we selected the lines based on the line numbers from the lines we have preserved.</p> <p>Finally, leading and trailing empty lines as well as superfluous empty lines are removed.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>code</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the code loaded from a file<li><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the lines to keep, or <cite>None</cite> if we keep all<li><p><strong>labels</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a list of labels marking start and end of code snippets to include<li><p><strong>line_comment_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'#'</span></code>) – the string marking the line comment start<li><p><strong>max_consecutive_empty_lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>2</span></code>) – the maximum number of permitted consecutive empty lines</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the list of selected lines</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>select_lines</span><span class=p>([</span><span class=s2>"def a():"</span><span class=p>,</span> <span class=s2>"    b=c"</span><span class=p>,</span> <span class=s2>"    return x"</span><span class=p>])</span>
<span class=go>['def a():', '    b=c', '    return x']</span>
<span class=gp>>>> </span><span class=n>pc</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"# start x"</span><span class=p>,</span> <span class=s2>"def a():"</span><span class=p>,</span> <span class=s2>" b=c # -x"</span><span class=p>,</span> <span class=s2>"    return x"</span><span class=p>,</span> <span class=s2>"# end x"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=n>select_lines</span><span class=p>(</span><span class=n>pc</span><span class=p>,</span> <span class=n>labels</span><span class=o>=</span><span class=p>{</span><span class=s2>"x"</span><span class=p>})</span>
<span class=go>['def a():', '    return x']</span>
<span class=gp>>>> </span><span class=n>select_lines</span><span class=p>([</span><span class=s2>"def a():"</span><span class=p>,</span> <span class=s2>"    b=c"</span><span class=p>,</span> <span class=s2>"    return x"</span><span class=p>],</span> <span class=n>lines</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=go>['def a():', '    return x']</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.source_tools.split_labels><span class="sig-prename descclassname"><span class=pre>texgit.formatters.source_tools.</span></span><span class="sig-name descname"><span class=pre>split_labels</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>labels</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/source_tools.html#split_labels><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.source_tools.split_labels>¶</a><dd><p>Get a sequence of labels from a string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>labels</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the labels string or <cite>None</cite></p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#set><code class="xref py py-class docutils literal notranslate"><span class=pre>set</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the labels set</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_labels</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>set()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_labels</span><span class=p>(</span><span class=s2>""</span><span class=p>))</span>
<span class=go>set()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_labels</span><span class=p>(</span><span class=s2>","</span><span class=p>))</span>
<span class=go>set()</span>
<span class=gp>>>> </span><span class=nb>sorted</span><span class=p>(</span><span class=n>split_labels</span><span class=p>(</span><span class=s2>"a;b;d;c"</span><span class=p>))</span>
<span class=go>['a', 'b', 'c', 'd']</span>
<span class=gp>>>> </span><span class=nb>sorted</span><span class=p>(</span><span class=n>split_labels</span><span class=p>(</span><span class=s2>"a,b c+a;a</span><span class=se>\t</span><span class=s2>d;c"</span><span class=p>))</span>
<span class=go>['a', 'b', 'c', 'd']</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.source_tools.split_line_choices><span class="sig-prename descclassname"><span class=pre>texgit.formatters.source_tools.</span></span><span class="sig-name descname"><span class=pre>split_line_choices</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>lines</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/source_tools.html#split_line_choices><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.source_tools.split_line_choices>¶</a><dd><p>Split line choices to iterables of <cite>int</cite> or <cite>None</cite>.</p> <p>This function converts <cite>1</cite>-based line selections into <cite>0</cite>-based ones.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the line choices</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>] | <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the split line choices.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_line_choices</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>""</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>","</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>"1"</span><span class=p>)</span>
<span class=go>[0]</span>
<span class=gp>>>> </span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>"1,2"</span><span class=p>)</span>
<span class=go>[0, 1]</span>
<span class=gp>>>> </span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>"1-5"</span><span class=p>)</span>
<span class=go>[0, 1, 2, 3, 4]</span>
<span class=gp>>>> </span><span class=n>split_line_choices</span><span class=p>(</span><span class=s2>"3;4-5;7-7;22+12-15;"</span><span class=p>)</span>
<span class=go>[2, 3, 4, 6, 21, 11, 12, 13, 14]</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=texgit.formatters.source_tools.strip_common_whitespace_prefix><span class="sig-prename descclassname"><span class=pre>texgit.formatters.source_tools.</span></span><span class="sig-name descname"><span class=pre>strip_common_whitespace_prefix</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>lines</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/texgit/formatters/source_tools.html#strip_common_whitespace_prefix><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#texgit.formatters.source_tools.strip_common_whitespace_prefix>¶</a><dd><p>Strip a common whitespace prefix from a list of strings and merge them.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the lines</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the code with the white space prefix stripped</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>" a"</span><span class=p>,</span> <span class=s2>"  b"</span><span class=p>])</span>
<span class=go>['a', ' b']</span>
<span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>" a"</span><span class=p>,</span> <span class=s2>" b"</span><span class=p>])</span>
<span class=go>['a', 'b']</span>
<span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>"  a"</span><span class=p>,</span> <span class=s2>"  b"</span><span class=p>])</span>
<span class=go>['a', 'b']</span>
<span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>"  a"</span><span class=p>,</span> <span class=s2>"  b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>])</span>
<span class=go>['  a', '  b', 'c']</span>
<span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>" a"</span><span class=p>,</span> <span class=s2>"  b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>])</span>
<span class=go>[' a', '  b', 'c']</span>
<span class=gp>>>> </span><span class=n>strip_common_whitespace_prefix</span><span class=p>([</span><span class=s2>"  a"</span><span class=p>,</span> <span class=s2>"  b"</span><span class=p>,</span> <span class=s2>"    c"</span><span class=p>])</span>
<span class=go>['a', 'b', '  c']</span>
</pre></div></div></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>texgit.formatters package</a><ul><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-texgit.formatters.python>texgit.formatters.python module</a><ul><li><a class="reference internal"href=#texgit.formatters.python.format_python><code class="docutils literal notranslate"><span class=pre>format_python()</span></code></a><li><a class="reference internal"href=#texgit.formatters.python.preprocess_python><code class="docutils literal notranslate"><span class=pre>preprocess_python()</span></code></a></ul><li><a class="reference internal"href=#module-texgit.formatters.source_tools>texgit.formatters.source_tools module</a><ul><li><a class="reference internal"href=#texgit.formatters.source_tools.format_empty_lines><code class="docutils literal notranslate"><span class=pre>format_empty_lines()</span></code></a><li><a class="reference internal"href=#texgit.formatters.source_tools.select_lines><code class="docutils literal notranslate"><span class=pre>select_lines()</span></code></a><li><a class="reference internal"href=#texgit.formatters.source_tools.split_labels><code class="docutils literal notranslate"><span class=pre>split_labels()</span></code></a><li><a class="reference internal"href=#texgit.formatters.source_tools.split_line_choices><code class="docutils literal notranslate"><span class=pre>split_line_choices()</span></code></a><li><a class="reference internal"href=#texgit.formatters.source_tools.strip_common_whitespace_prefix><code class="docutils literal notranslate"><span class=pre>strip_common_whitespace_prefix()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=texgit.html>texgit package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=texgit.repository.html>texgit.repository package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/texgit.formatters.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="texgit.repository package"href=texgit.repository.html>next</a> |<li class=right><a title="texgit package"href=texgit.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>texgit 0.9.10 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>texgit</a> »<li class="nav-item nav-item-2"><a href=texgit.html>texgit package</a> »<li class="nav-item nav-item-this"><a href>texgit.formatters package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2025, Thomas Weise.</div>
